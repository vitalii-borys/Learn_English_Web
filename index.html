<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lean Game</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="./reading-book.png" type="image/png">
</head>
<body class="lightmode">
    <script>
        function loadScript(src) {
            var script = document.createElement("script");
            script.src = src;
            document.body.appendChild(script);
        }
    
        // Safari 12 on iOS has a specific bug with ES modules and nomodule
        var isSafari12 = /iPad|iPhone|iPod/.test(navigator.userAgent) && 
                         !window.MSStream && 
                         /Version\/12/.test(navigator.userAgent) && 
                         /Safari/.test(navigator.userAgent);
        
        if (isSafari12 || !('noModule' in HTMLScriptElement.prototype)) {
            // Either Safari 12 bug detected or modules not supported - Load fallback script
            loadScript("./my_script.js");
        } else {
            // For modern browsers that correctly support modules
            var moduleScript = document.createElement("script");
            moduleScript.type = "module";
            moduleScript.src = "./myscript.js";
            document.body.appendChild(moduleScript);
            
            // Add nomodule script for older browsers that correctly implement nomodule
            var noModuleScript = document.createElement("script");
            noModuleScript.noModule = true;
            noModuleScript.src = "./my_script.js";
            document.body.appendChild(noModuleScript);
        }
    </script>
    <!-- <script type="module" src="./myscript.js"></script>
    <script nomodule src="./my_script.js"></script> -->
</body>
</html>